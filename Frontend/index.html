<!DOCTYPE html>
<html lang="en" data-theme="dark">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>OpenVCS</title>
  <link rel="stylesheet" href="src/styles/index.css" />
  <script type="module" src="src/scripts/main.ts" defer></script>
</head>
<body>
  <div class="app" id="app">
    <!-- Titlebar -->
    <header class="titlebar" role="banner">
      <div class="repo-switch" id="repo-switch" title="Switch repository (Ctrl+R)" role="button" tabindex="0" aria-haspopup="dialog">
        <div class="repo-meta">
          <div class="repo-title" id="repo-title">Click to open Repo</div>
          <div class="repo-branch" id="repo-branch">No repo open</div>
        </div>
        <span class="chev" aria-hidden="true">â–¾</span>
      </div>

      <button class="branch-switch" id="branch-switch" title="Switch branch" aria-haspopup="listbox" aria-expanded="false">
        <span class="branch-dot" aria-hidden="true"></span>
        <span id="branch-name">No repo open</span>
        <span class="chev" aria-hidden="true">â–¾</span>
      </button>

      <div class="title-actions">
        <button class="btn" id="fetch-btn" title="Fetch/Pull (F5)">Fetch/Pull</button>
        <button class="btn" id="push-btn" title="Push">Push</button>
      </div>
    </header>

    <!-- Tabs -->
    <nav class="tabs" role="tablist" aria-label="Primary views">
      <button class="tab active" data-tab="changes" role="tab" aria-selected="true" id="tab-changes">Changes</button>
      <button class="tab" data-tab="history" role="tab" aria-selected="false" id="tab-history">History</button>
    </nav>

    <!-- Work area -->
    <section class="work" aria-label="Workspace">
      <!-- Left column -->
      <aside class="panel left" id="left" aria-label="List panel">
        <div class="left-head">
          <div class="filter">
            <span class="filter-icon" aria-hidden="true">ðŸ”Ž</span>
            <input id="filter" type="search" placeholder="Filter filesâ€¦ (Ctrl+F)" aria-label="Filter files or commits" />
          </div>
          <span class="badge" id="changes-count">0 items</span>
        </div>
        <ul class="list" id="file-list" role="listbox" aria-label="Items"></ul>
      </aside>

      <!-- Resizer -->
      <div class="resizer" id="resizer" title="Resize panel" aria-hidden="true"></div>

      <!-- Right column -->
      <main class="panel right" id="right" role="main">
        <div class="diff-head">
          <div class="path" id="diff-path">Select an item</div>
          <div class="meta" id="diff-meta" aria-label="Diff settings">
            <span>LF</span><span>UTF-8</span><span>Unified</span>
          </div>
        </div>

        <div class="diff" id="diff" aria-live="polite" aria-label="Diff view"></div>

        <!-- Commit panel (hidden on History tab via JS) -->
        <section class="commit" id="commit" aria-label="Commit changes">
          <div class="inputs">
            <input id="commit-summary" placeholder="Summary (required)" aria-label="Commit summary" />
            <textarea id="commit-desc" placeholder="Description (optional)" aria-label="Commit description"></textarea>
          </div>
          <div class="actions">
            <span class="kbd">Ctrl+Enter</span>
            <button class="btn primary" id="commit-btn">Commit</button>
          </div>
        </section>
      </main>
    </section>

    <!-- Footer -->
    <footer class="footer" role="contentinfo">
      <div class="hints">
        Shortcuts: <span class="kbd">Ctrl+R</span> repo Â·
        <span class="kbd">Ctrl+F</span> filter Â·
        <span class="kbd">Ctrl+Enter</span> commit Â·
        <span class="kbd">F5</span> fetch/pull
      </div>
      <div id="status" aria-live="polite">Ready</div>
    </footer>
  </div>
  
  <!-- Branch popover -->
  <div class="popover" id="branch-pop" role="dialog" aria-modal="false" aria-label="Branches" hidden>
    <div class="pop-head">
      <input id="branch-filter" type="search" placeholder="Find or create branchâ€¦" aria-label="Filter branches">
      <button class="pick" id="branch-new" type="button">Newâ€¦</button>
    </div>
    <ul class="pop-list" id="branch-list" role="listbox" aria-label="Branch list"></ul>
  </div>

  <!-- Modal mount -->
  <div id="modals-root"></div>

</body>
</html>
