<!-- prompt.html -->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Prompt</title>
    <style>
        body {
            margin:0; padding:1rem;
            background:#27272f; color:#e5e5e7;
            font-family:Inter, sans-serif;
            display:flex; flex-direction:column;
            height:100vh; box-sizing:border-box;
        }
        label { margin-bottom:.5rem; font-weight:500; }
        input {
            width:100%; padding:.5rem; margin-bottom:1rem;
            border-radius:4px; border:1px solid #444;
            background:#1f1f24; color:#e5e5e7;
        }
        .actions { display:flex; justify-content:flex-end; gap:.5rem; }
        button {
            padding:.4rem .8rem; border:none; cursor:pointer;
            border-radius:4px; font-size:.9rem;
        }
        .primary { background:#3b82f6; color:#fff; }
        .cancel  { background:#444; color:#e5e5e7; }
    </style>
</head>
<body>
<h2 id="title">Prompt</h2>
<label for="input" id="label">Value:</label>
<input id="input" />
<div class="actions">
    <button class="cancel" id="btn-cancel">Cancel</button>
    <button class="primary" id="btn-ok">OK</button>
</div>

<script>
    // prompt.js â€” runs inside prompt.html
    const urlParams = new URLSearchParams(window.location.search);
    const mode = urlParams.get('mode') || 'add';
    document.getElementById('title').textContent = mode === 'add' ? 'Add Project' : 'Clone Repository';
    document.getElementById('label').textContent = mode === 'add' ? 'Project name:' : 'Git URL:';

    const { emit } = window.__TAURI__.event;
    const input = document.getElementById('input');
    const ok    = document.getElementById('btn-ok');
    const cancel= document.getElementById('btn-cancel');

    ok.onclick = () => {
        const value = input.value.trim();
        emit('prompt-submitted', { mode, value });
        window.close();
    };
    cancel.onclick = () => window.close();
</script>
</body>
</html>
